(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[27],{1857:function(e,t,n){"use strict";n.r(t);var c,r,i,a,s,o,l,d,j,b,u,O,f,p,x,h=n(8),m=n(1),v=n(5),g=n(2),k=n(14),w=n(243),y=n(44),C=n(139),S=n(61),I=n(384),F=n(28),N=n(3),T=n.n(N),P=n(12),A=n(9),D=n(245),H=v.e.div(c||(c=Object(h.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n"]))),E=n(56),W=n(225),L=n(99),z=n(45),J=n(145),Q=n(106),U=n(0),Z=Object(v.e)(g.jc)(r||(r=Object(h.a)(["\n  font-weight: 600;\n"]))),_=v.e.div(i||(i=Object(h.a)(["\n  margin-bottom: 16px;\n"]))),B=v.e.div(a||(a=Object(h.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 8px;\n"]))),G=v.e.label(s||(s=Object(h.a)(["\n  color: ",";\n  display: block;\n  margin-bottom: 8px;\n  margin-top: 24px;\n"])),(function(e){return e.theme.colors.text})),K=function(e){var t=e.nft,n=e.tokenIds,c=e.onSuccess,r=e.onDismiss,i=Object(m.useState)(!1),a=Object(A.a)(i,2),s=a[0],o=a[1],l=Object(m.useState)(""),d=Object(A.a)(l,2),j=d[0],b=d[1],u=Object(m.useState)(null),O=Object(A.a)(u,2),f=O[0],p=O[1],x=Object(k.b)().t,h=Object(y.c)().account,v=Object(z.g)(Object(W.a)()),w=Object(L.a)().toastSuccess,C=Object(J.a)().callWithGasPrice,S=function(){var e=Object(P.a)(T.a.mark((function e(){var t,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E.a.utils.isAddress(j)){e.next=6;break}p(x("Please enter a valid wallet address")),e.next=14;break;case 6:return e.next=8,C(v,"transferFrom",[h,j,n[0]]);case 8:return t=e.sent,o(!0),e.next=12,t.wait();case 12:(i=e.sent).status?(r(),c(),w(x("NFT successfully transferred!"),Object(U.jsx)(Q.b,{txHash:i.transactionHash}))):(p(x("Unable to transfer NFT")),o(!1));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Unable to transfer NFT:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(g.wb,{title:x("Transfer NFT"),onDismiss:r,children:[Object(U.jsxs)(_,{children:[f&&Object(U.jsx)(g.jc,{color:"failure",mb:"8px",children:f}),Object(U.jsxs)(H,{children:[Object(U.jsxs)(g.jc,{children:[x("Transferring"),":"]}),Object(U.jsx)(Z,{children:x("1x %nftName% NFT",{nftName:t.name})})]}),Object(U.jsxs)(G,{htmlFor:"transferAddress",children:[x("Receiving address"),":"]}),Object(U.jsx)(g.fb,{id:"transferAddress",name:"address",type:"text",placeholder:x("Paste address"),value:j,onChange:function(e){var t=e.target.value;b(t)},isWarning:f,disabled:s})]}),Object(U.jsxs)(B,{children:[Object(U.jsx)(g.r,{width:"100%",variant:"secondary",onClick:r,children:x("Cancel")}),Object(U.jsx)(g.r,{width:"100%",onClick:S,disabled:!h||s||!j,children:x("Confirm")})]})]})},R=v.e.div(o||(o=Object(h.a)(["\n  margin-bottom: 16px;\n"]))),X=v.e.div(l||(l=Object(h.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 8px;\n"]))),Y=function(e){var t=e.nft,n=e.onSuccess,c=e.onClaim,r=e.onDismiss,i=Object(m.useState)(!1),a=Object(A.a)(i,2),s=a[0],o=a[1],l=Object(k.b)().t,d=Object(y.c)().account,j=Object(L.a)(),b=j.toastError,u=j.toastSuccess,O=function(){var e=Object(P.a)(T.a.mark((function e(){var t,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,c();case 4:return t=e.sent,e.next=7,t.wait();case 7:(i=e.sent).status&&(u(l("Successfully claimed!"),Object(U.jsx)(Q.b,{txHash:i.transactionHash})),r(),n()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),b(l("Error"),l("Please try again. Confirm the transaction and make sure you are paying enough gas!")),o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(g.wb,{title:l("Claim Collectible"),onDismiss:r,children:[Object(U.jsx)(R,{children:Object(U.jsxs)(g.X,{alignItems:"center",mb:"8px",justifyContent:"space-between",children:[Object(U.jsxs)(g.jc,{children:[l("You will receive"),":"]}),Object(U.jsx)(g.jc,{bold:!0,children:l("1x %nftName% Collectible",{nftName:t.name})})]})}),Object(U.jsxs)(X,{children:[Object(U.jsx)(g.r,{width:"100%",variant:"secondary",onClick:r,children:l("Cancel")}),Object(U.jsx)(g.r,{width:"100%",onClick:O,disabled:!d,isLoading:s,endIcon:s?Object(U.jsx)(g.i,{color:"currentColor",spin:!0}):null,children:l("Confirm")})]})]})},q=v.e.div(d||(d=Object(h.a)(["\n  background-color: ",";\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  padding-bottom: 100%;\n"])),(function(e){return e.theme.colors.cardBorder})),M=v.e.img(j||(j=Object(h.a)(["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  left: 0;\n  transition: opacity 1s linear;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 24px 24px 0 0;\n"]))),V=v.e.video(b||(b=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n"]))),$=function(e){var t=e.nft,n=e.isOwned,c=void 0!==n&&n,r=t.images,i=t.name,a=t.video,s="/images/nfts/".concat(r.lg);if(a){var o=Object(U.jsxs)(V,{autoPlay:!0,controls:!1,loop:!0,muted:!0,poster:s,children:[Object(U.jsx)("source",{src:a.webm,type:"video/webm"}),Object(U.jsx)("source",{src:a.mp4,type:"video/mp4"})]});return c?Object(U.jsx)("a",{href:r.ipfs,target:"_blank",rel:"noreferrer noopener",children:o}):o}var l=Object(U.jsx)(M,{src:s,alt:i});return Object(U.jsx)(q,{children:c?Object(U.jsx)("a",{href:r.ipfs,target:"_blank",rel:"noreferrer noopener",children:l}):l})},ee=Object(v.e)(H)(u||(u=Object(h.a)(["\n  min-height: 28px;\n"]))),te=Object(v.e)(g.r).attrs({variant:"text"})(O||(O=Object(h.a)(["\n  height: auto;\n  padding: 16px 24px;\n\n  &:hover:not(:disabled):not(:active) {\n    background-color: transparent;\n  }\n\n  &:focus:not(:active) {\n    box-shadow: none;\n  }\n"]))),ne=v.e.div(f||(f=Object(h.a)(["\n  padding: 24px;\n"]))),ce=function(e){var t,n=e.nft,c=e.canClaim,r=void 0!==c&&c,i=e.tokenIds,a=void 0===i?[]:i,s=e.onClaim,o=e.refresh,l=Object(m.useState)(!1),d=Object(A.a)(l,2),j=d[0],b=d[1],u=Object(k.b)().t,O=Object(D.b)().profile,f=n.identifier,p=n.name,x=n.description,h=a.length>0,v=j?g.K:g.H,w=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!j);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){o()},C=Object(g.Fc)(Object(U.jsx)(K,{nft:n,tokenIds:a,onSuccess:y})),S=Object(A.a)(C,1)[0],I=Object(g.Fc)(Object(U.jsx)(Y,{nft:n,onSuccess:y,onClaim:s})),F=Object(A.a)(I,1)[0];return Object(U.jsxs)(g.v,{isActive:h,children:[Object(U.jsx)($,{nft:n,isOwned:h}),Object(U.jsxs)(g.w,{children:[Object(U.jsxs)(ee,{children:[Object(U.jsx)(g.Z,{children:p}),h&&Object(U.jsx)(g.gc,{outline:!0,variant:"secondary",children:u("In Wallet")}),(null===O||void 0===O||null===(t=O.nft)||void 0===t?void 0:t.identifier)===f&&Object(U.jsx)(g.gc,{outline:!0,variant:"success",children:u("Profile Pic")})]}),r&&Object(U.jsx)(g.r,{width:"100%",mt:"24px",onClick:F,children:u("Claim this NFT")}),h&&Object(U.jsx)(g.r,{width:"100%",variant:"secondary",mt:"24px",onClick:S,children:u("Transfer")})]}),Object(U.jsxs)(g.x,{p:"0",children:[Object(U.jsx)(te,{width:"100%",endIcon:Object(U.jsx)(v,{width:"24px",color:"primary"}),onClick:w,children:u("Details")}),j&&Object(U.jsx)(ne,{children:Object(U.jsx)(g.jc,{as:"p",color:"textSubtle",style:{textAlign:"center"},children:u(x)})})]})]})},re=v.e.div(p||(p=Object(h.a)(["\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: 1fr;\n  padding-bottom: 24px;\n  padding-top: 24px;\n\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  "," {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),ie={},ae=function(){var e=function(){var e=Object(y.c)().account,t=Object(S.b)(),n=Object(F.c)((function(e){return e.collectibles})),c=n.isInitialized,r=n.isLoading,i=n.data,a=Object.keys(i);return Object(m.useEffect)((function(){c||t(Object(I.b)(e))}),[c,e,t]),{isInitialized:c,isLoading:r,tokenIds:i,nftsInWallet:C.a.pancake.filter((function(e){return a.includes(e.identifier)}))}}().tokenIds,t=Object(S.b)(),n=Object(y.c)().account,c=Object(m.useCallback)((function(){t(Object(I.b)(n))}),[t,n]);return Object(m.useEffect)((function(){c()}),[n,c]),Object(U.jsx)(re,{children:C.a.pancake.map((function(t){var n=ie[t.identifier]||ce;return Object(U.jsx)("div",{id:"nft-".concat(t.name),children:Object(U.jsx)(n,{nft:t,tokenIds:e[t.identifier],refresh:c})},t.name)}))})},se=v.e.div(x||(x=Object(h.a)(["\n  border-bottom: 2px solid ",";\n  margin-bottom: 24px;\n  padding-bottom: 32px;\n"])),(function(e){return e.theme.colors.textSubtle}));t.default=function(){var e=Object(k.b)().t;return Object(U.jsxs)(w.b,{children:[Object(U.jsx)(se,{children:Object(U.jsx)(g.Z,{as:"h1",scale:"xxl",color:"secondary",children:e("Pancake Collectibles")})}),Object(U.jsx)(ae,{})]})}}}]);
//# sourceMappingURL=27.d5689981.chunk.js.map